# 动态规划-01背包

当我有个一个背包容量为 10 的背包，并且有 4 个不同重量和价值的物品，求出我应该放入哪些物品，让这个背包的价值最大，并且不超过背包的容量

例如物品的信息如下

| 重量 | 价值 |
| :--: | :--: |
|  2   |  1   |
|  3   |  3   |
|  4   |  5   |
|  7   |  9   |

那么可以列出一个表格进行计算统计

顶部为背包容量递增情况，当背包容量从 0 - 10 直接的可放入的最大价值
左侧两列为分别为物品的重量和价值
从上往下进行计算，如果从第三行开始，就表示我目前只有一个物品，从第四行开始表示我目前有两个物品

从第四行开始，就已经出现了两个商品一起进行计算，如果背包的**目前容量**小于目前物品的重量，则使用`dp[i - 1][j]`的值【也就是上一个单元格的值】；
如果**当前背包容量**大于或等于目前物品的重量，就需要进行判断选择是拿当前物品还是不拿当前物品
不拿当前物品：`dp[i-1][j]`，使用之前的值
拿当前的物品：`dp[i-1][j-w[i]] + c[i]`，`j-w[i]`的意思是：获取不放目前物品时候的重量，`dp[i-1][j-w[i]]`获取到之前没有放入目前物品时的价值，加上目前物品的价值`c[i]`；将两者进行比较，那个大，选择哪个；

**状态转移方程式**：**`max(dp[i-1][j], dp[i-1][j-w[i]] + c[i])`**

| w    | c    | 0    | 1    | 2    | 3     | 4    | 5    | 6    | 7    | 8    | 9    | 10   |
| ---- | ---- | ---- | ---- | ---- | ----- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| 2    | 1    | 0    | 0    | 1    | 1     | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| 3    | 3    | 0    | 0    | 1    | **3** |      |      |      |      |      |      |      |
| 4    | 5    |      |      |      |       |      |      |      |      |      |      |      |
| 7    | 9    |      |      |      |       |      |      |      |      |      |      |      |

从表格中的3行6列来计算；

```
物品重量为3  价值为3  目前背包重量为3
3(物品重量) >= 3(背包重量)
dp[i-1][j] => 1
dp[i-1][j-w[i]] = dp[2-1][3-3] = dp[1][0] = 0
dp[i-1][j-w[i]] + c[i] = 0 + 3 = 3
max(dp[i-1][j], dp[i-1][j-w[i]] + c[i]) => 3
```

